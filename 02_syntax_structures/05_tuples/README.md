Привет! Продолжаем знакомство с типами данных. И сегодня на очереди у нас кортежи. Но что, если я скажу о том, что с кортежами мы уже практически знакомы? Начну издалека, кортежи — это неизменяемый тип данных, к их элементам можно обращаться при помощи индексов, можно применять к кортежам срезы и конкатенацию. Ничего не напоминает? На самом деле, да, несколько уроков назад мы проходили строки, которые обладают примерно такой же функциональностью. И да, строки построены поверх кортежей, то есть являются их расширением, но обо всём по порядку.

Давайте перейдем в среду разработки и попытаемся влить какой-нибудь кортеж. Я хочу создать кортеж, который будет содержать значения самого разного типа, поэтому я так и назову его «trash_can», мусорка. Кортеж объявляется при помощи оператора круглые скобки. И в эти скобки мы помещаем все те значения, которые хотим видеть в нашем кортеже. Я хочу там своё имя видеть, я хочу видеть там флаг того, люблю ли я python, флагом, кстати, называются значения логического типа. Я люблю python, поэтому я пишу «True». И я хочу видеть значения, которые обозначают количество котов, которое у меня есть. У меня котов и кошек нет, я по этому поводу очень сильно переживаю, но я вот всё-таки напишу туда значение «0».

Выведем наш кортеж. Мы видим, что наш кортеж вывелся на экран. Это значит, интерпретатор наш код принял, и мы не сделали ничего противозаконного. Как я уже говорил, к элементам кортежа можно обращаться посредством индексов через оператор «квадратные скобки». Выведем элемент с нулевым индексом, ожидаем увидеть его в выводе наше имя. Да, действительно, мы видим в выводе наше имя.

Попробуем сделать срез кортежа. Для этого выведем первые два элемента нашего кортежа, сделаем срез с самого его начала по второй элемент, по элемент со вторым индексом. Ожидаем увидеть «Denis» и «True», поскольку элемент со вторым индексом, который имеет значение «ноль», туда входить не будет. Выполняем и видим, действительно, кортеж «Denis» запятая «True». Код отработал как нужно.

Что же еще можно сделать с кортежами? Кортежи можно распаковать. Давайте расскажу и покажу, что это такое. Допустим, у меня есть 3 переменные. «Name, is_i_love_python» и переменная «cat_count», которая характеризует количество котов, которые у меня есть. И я хочу поместить туда значение из моего кортежа. Я, конечно, могу воспользоваться индексацией и объявить в трех разных строках 3 переменные, но как-то python — это вроде бы про удобность, и хотелось бы более элементным способом.

И да, действительно, такой способ есть. Именно он и называется распаковкой. Для этого я просто в качестве правого операнда, оператора присваивания, указываю наш кортеж «trash_can». И воспользуемся тем, что функция «print» умеет принимать несколько аргументов через запятую. И распечатаем значение наших переменных на экран. И видим, что да, действительно, нашим переменным были присвоены значения.

Что еще можно делать с кортежами? Ну для этого объявим еще один кортеж, назовем его «climate», который будет характеризовать климат в моей комнате. И в нём будет хранится значение температуры. У меня сейчас 21 градус, но мне комфортно. И влажность 53%, поскольку у меня работает увлажнитель. И давайте сконкатенируем эти кортежи. И выведем их на экран. Уберем код, который нас пока что не интересует. Конкатенация происходит посредством того же самого оператора, плюс, что и в строках.

Сконкатенируем его с кортежем «сlimate», выведем на экран, и видим, что у нас на выходе получился новый кортеж. Как это можно использовать?  Допустим, я хочу проверить гипотезу о том, что влажность и температура в моей комнате зависит от количества котов. Для этого я складываю два наших кортежа, ну точнее конкатенирую и распаковываю результат в переменной «сat_count», температура «temperature» и влажность «humidity». И так как теперь в нашем кортеже больше, чем 3 значения, точнее их там 5, так как мы сконкатенировали два кортежа, то в три переменные их уложить не получится. Об этом нам подсказывает PyCharm. Но давайте попробуем выполнить код, чтобы убедиться, что все действительно сломается. И да, все сломалось, написано, что слишком много значений, чтобы распаковать, ожидалось всего 3 значения, так как у нас перечислено 3 переменных.

И давайте применим к результатам конкатенации кортежей какой-нибудь срез. Если мы укажем квадратные скобки после кортежа «climate», то срез применится именно к нему. Чтобы применить срез к результатам конкатенации, давайте укажем результат конкатенации в круглых операторных скобках, как бы то же самое, что, если бы мы делали с числами, что нужно вперед выполнить эту операцию. И укажем там срез. В срезе мы хотим видеть всё, начиная со второго индекса, и до самого конца кортежа. И давайте распечатаем значения, которые у нас получились в переменных.

Мы видим, что да, действительно у переменных те значения, которые мы хотели получить, количество котов, температура в комнате и влажность. Ну «Data science» у нас немножко не получился, поскольку у нас выборка из одного значения. Но тем не менее, мы узнали, что кортежи можно конкатенировать, а результатом конкатенации кортежа является опять же кортеж, и к нему можно применять другие операции, которые работаю для кортежей.

То же самое касается и результатов среза, например. Так же я говорил о том, что строки построены поверх кортежей. Давайте попробуем с этим что-нибудь сделать. Заведем переменную «name» и напишем туда, что я Боб. Вы знаете, что я не Боб, но я буду притворяться. И попробуем распаковать имя Боб в несколько переменных. Назовем эти переменные для удобства «a», «b» и «c». В вашем коде, конечно же, так делать не стоит, потому что не понятно, что значат переменные «a», «b» и «c». Но чисто для примера я все-таки разрешу себе этим воспользоваться. И распакуем туда переменную «name». Потом выведем на экран значение переменных «a», «b» и «с». Выполним код. И видим, что, да, действительно, строка была образована за счет кортежа. И это позволило ей участвовать в операции распаковки.

Итак, что же мы узнали о кортежах? Что картежи могут состоять из нескольких типов данных. Это, кстати, особенность нетипизированных языков, это очень расширяет наши возможности. Но и с другой стороны, добавляет мест, где мы можем ошибиться.  И нужно быть очень внимательными при использовании кортежей, которые содержат в себе несколько разных типов данных.  Далее, что еще мы узнали? На самом деле, мы уже узнали довольно много о типах данных, и это образует целый класс типов данных, называемых «неизменяемые». То есть, например, «int», «float», «bool», «str» и «tuples», те самые целые вещественные логические типы, символы и строки, а также кортежи, являются неизменяемыми типами данных.

Что это значит? Что если мы производим над ними какие-либо операции, то исходную переменную это никак не меняет. А в будущем мы познакомимся и с изменяемыми типами данных. Среди них такие типы, как списки, которые фактически являются массивами, словари, по-иному их называют отображения, а также множества — это списки, в которых каждый элемент уникален. На этом все, мы закончили довольно большой блок, увидимся в следующем уроке.